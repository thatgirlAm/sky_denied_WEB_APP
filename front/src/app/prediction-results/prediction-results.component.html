<div class="container">

  <div class="prediction-popup" >
    <button class="close-button" (click)="close()">✕</button>
    <div class="loader" *ngIf="!prediction_loaded">
      <img src="image/loader.svg" alt="Loading image" />
      <p>The model prediction can take as long as 1min to process.
        <br>Please excuse the waiting time...</p>
    </div>
    <div class="prediction-result" *ngIf="prediction_loaded">
      <button class="close-button" (click)="close()">✕</button>
    
      <div class="flight-header">
        <h1 class="flight-number">{{ flight.flight_number_iata }}</h1>
        <h2 class="flight-date">{{ flight.scheduled_departure_local | date: 'dd MMMM yyyy' }}</h2>
      </div>
    
      <div class="flight-route">
        <div class="location">
          <div class="location-label">From</div>
          <p class="city">{{ flight.depart_from_iata }}</p>
          <p class="time">{{ flight.scheduled_departure_local | date: 'shortTime' }}</p>
        </div>
    
        <div class="plane-container">
          <span class="divider"></span>
          <span class="plane-icon">✈</span>
          <span class="divider"></span>
        </div>
    
        <div class="location">
          <div class="location-label">To</div>
          <p class="city">{{ flight.arrive_at_iata }}</p>
          <p class="time">{{ flight.scheduled_arrival_local | date: 'shortTime' }}</p>
        </div>
      </div>
    
      <div class="prediction-banner" [ngClass]="{'delayed': prediction.delayed, 'on-time': !prediction.delayed}">
        {{ getDelayMessage() }}
      </div>
    
      <div *ngIf="prediction.status" class="prediction-status">
        Status: {{ prediction.status }}
      </div>
    
      <div *ngIf="prediction.previous_predicition" class="previous-prediction">
        Previous prediction: {{ prediction.previous_predicition }}
      </div>
    
      <div class="prediction-footer">
        <button class="claim-button">Check refund policies</button>
      </div>
    </div>
  </div>

</div>
