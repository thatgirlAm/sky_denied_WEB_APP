<div class="homepage-content">
  <!-- Loader Overlay -->
  <div class="loader-overlay" *ngIf="isLoading">
    <div class="loader"></div>
    <div class="loader-text">Processing your request...</div>
  </div>

  <div class="section">
    <div class="flight-search-container">
      <h1>Request a prediction</h1>
      <div class="tab-buttons">
        <!-- Tab buttons remain the same -->
      </div>
      
      <div [formGroup]="form">
        <!-- "I have a flight" Tab -->
        <div class="tab-content" [class.active]="activeTab === 'have-flight'">
          <div class="input-group">
            <label for="tail_number">Tail Number</label>
            <input formControlName="tail_number" type="text" id="tail_number">
            <div class="validation-error" *ngIf="form.get('tail_number')?.invalid && form.get('tail_number')?.touched">
              ✖ Tail number is required
            </div>
          </div>
          <div class="input-group">
            <label for="scheduled_departure_local">Scheduled Departure</label>
            <input formControlName="scheduled_departure_local" type="datetime-local" id="scheduled_departure_local">
            <div class="validation-error" *ngIf="form.get('scheduled_departure_local')?.invalid && form.get('scheduled_departure_local')?.touched">
              ✖ Scheduled departure is required
            </div>
          </div>
        </div>

        <!-- "Search flight" Tab -->
        <div class="tab-content" [class.active]="activeTab === 'search-flight'">
          <div class="input-group">
            <label for="depart_from_iata">Departure (IATA)</label>
            <input formControlName="depart_from_iata" type="text" id="depart_from_iata">
            <div class="validation-error" *ngIf="form.get('depart_from_iata')?.errors?.['required'] && form.get('depart_from_iata')?.touched">
              ✖ Departure code is required
            </div>
            <div class="validation-error" *ngIf="form.get('depart_from_iata')?.errors?.['maxlength']">
              ✖ IATA code must be 3 characters
            </div>
          </div>
          <div class="input-group">
            <label for="arrive_at_iata">Arrival (IATA)</label>
            <input formControlName="arrive_at_iata" type="text" id="arrive_at_iata">
            <div class="validation-error" *ngIf="form.get('arrive_at_iata')?.errors?.['required'] && form.get('arrive_at_iata')?.touched">
              ✖ Arrival code is required
            </div>
            <div class="validation-error" *ngIf="form.get('arrive_at_iata')?.errors?.['maxlength']">
              ✖ IATA code must be 3 characters
            </div>
          </div>
        </div>

        <!-- Submit Button -->
        <button class="submit-button" 
                (click)="fetchFlightData()" 
                [disabled]="form.invalid || isLoading">
          <span *ngIf="!isLoading">
            {{ activeTab === 'have-flight' ? 'Submit Flight' : 'Search Flights' }}
          </span>
          <span *ngIf="isLoading">Processing...</span>
        </button>
      </div>
    </div>
  </div>

  
  <div class="section">
    <div class="paragraph">
      <h1>Predicting delays</h1>
      <p>Flight delays are becoming increasingly common, affecting customers, airlines, and the entire aviation industry. For travelers, an unexpected delay can disrupt important plans and cause stress. At Sky Denied, we help you stay ahead by predicting flight delays, allowing you to adjust your schedule accordingly. Our machine learning models analyse real-time data to provide accurate predictions, giving you the power to make informed decisions. Beyond just forecasting delays, we also assist in claiming compensation from airlines, ensuring you get what you're entitled to with ease. Whether you're a frequent flyer or an occasional traveler, our goal is to make your journey smoother and more predictable! </p>
    </div>
    <div class="getty-embed">
      <div class="getty-frame-container">
        <iframe
          src="//embed.gettyimages.com/embed/93466101?et=izWYlnX4Rv9zRutOHWsUpg&tld=com&sig=CbPDvrZ_9NG-KNXDvh3eJVjZVZNudTV-AWangIJuAqw=&caption=true&ver=1"
          scrolling="no"
          frameborder="0"
          allowfullscreen
        ></iframe>
      </div>
      <div class="getty-caption">
        <a href="http://www.gettyimages.com/detail/93466101" target="_blank">
          Embed from Getty Images
        </a>
      </div>
    </div>
  </div>
  <div class="section">
    <div class="search-link">
      <h1>
        <a routerLink="/search">Request a prediction with our model</a>
      </h1>
    </div>
  </div>
</div>
