<div class="homepage-content">
  <!-- Loader Overlay -->
  <div class="loader-overlay" *ngIf="isLoading">
    <div class="loader"></div>
    <div class="loader-text">Processing your request...</div>
  </div>

  <div class="section">
    <div class="flight-search-container">
      <h1>Request a prediction</h1>
      <div class="tab-buttons">
        <button
          class="tab-button"
          [class.active]="activeTab === 'have-flight'"
          (click)="switchTab('have-flight')"
        >
          I have a flight
        </button>
        <button
          class="tab-button"
          [class.active]="activeTab === 'search-flight'"
          (click)="switchTab('search-flight')"
        >
          I want to search a flight
        </button>
      </div>
      
<!-- Have Flight Tab -->
<div [formGroup]="haveFlightForm" class="tab-content" [class.active]="activeTab === 'have-flight'">
  <div class="input-group">
    <label for="tail_number">Tail Number</label>
    <input formControlName="tail_number" type="text" id="tail_number">
    <div class="validation-error" *ngIf="haveFlightForm.get('tail_number')?.invalid && haveFlightForm.get('tail_number')?.touched || submitted ">
      ✖ Tail number is required
    </div>
  </div>
  <div class="input-group">
    <label for="scheduled_departure_local">Scheduled Departure</label>
    <input formControlName="scheduled_departure_local" type="date" id="scheduled_departure_local">
  </div>
  <button class="submit-button" 
          (click)="fetchFlightData()" 
          [disabled]=" isLoading">
    {{ isLoading ? 'Processing...' : 'Submit Flight' }}
  </button>
</div>

<!-- Search Flight Tab -->
<div [formGroup]="searchFlightForm" class="tab-content" [class.active]="activeTab === 'search-flight'">
  <div class="input-group">
    <label for="depart_from">Departure</label>
    <input formControlName="depart_from" type="text" id="depart_from">
    <div class="validation-error" *ngIf="searchFlightForm.get('depart_from')?.errors?.['required'] && searchFlightForm.get('depart_from')?.touched || submitted  ">
      ✖ Departure location is required
    </div>
    <!-- <div class="validation-error" *ngIf="searchFlightForm.get('depart_from_iata')?.errors?.['maxlength']">
      ✖ IATA code must be 3 characters
    </div> -->
  </div>
  <div class="input-group">
    <label for="arrive_at">Arrival</label>
    <input formControlName="arrive_at" type="text" id="arrive_at">
    <div class="validation-error" *ngIf="searchFlightForm.get('arrive_at')?.errors?.['required'] && searchFlightForm.get('arrive_at')?.touched || submitted  ">
      ✖ Arrival location is required
    </div>
    <!-- <div class="validation-error" *ngIf="searchFlightForm.get('arrive_at')?.errors?.['maxlength']">
      ✖ IATA code must be 3 characters
    </div> -->
  </div>
  <button class="submit-button" 
          (click)="fetchFlightData()" 
          [disabled]="isLoading">
    {{ isLoading ? 'Searching...' : 'Search Flights' }}
  </button>
</div>
    </div>
  </div>

  
  <div class="section">
    <div class="paragraph">
      <h1>Predicting delays</h1>
      <p>Flight delays are becoming increasingly common, affecting customers, airlines, and the entire aviation industry. For travelers, an unexpected delay can disrupt important plans and cause stress. At Sky Denied, we help you stay ahead by predicting flight delays, allowing you to adjust your schedule accordingly. Our machine learning models analyse real-time data to provide accurate predictions, giving you the power to make informed decisions. Beyond just forecasting delays, we also assist in claiming compensation from airlines, ensuring you get what you're entitled to with ease. Whether you're a frequent flyer or an occasional traveler, our goal is to make your journey smoother and more predictable! </p>
    </div>
    <div class="getty-embed">
      <div class="getty-frame-container">
        <iframe
          src="//embed.gettyimages.com/embed/93466101?et=izWYlnX4Rv9zRutOHWsUpg&tld=com&sig=CbPDvrZ_9NG-KNXDvh3eJVjZVZNudTV-AWangIJuAqw=&caption=true&ver=1"
          scrolling="no"
          frameborder="0"
          allowfullscreen
        ></iframe>
      </div>
      <div class="getty-caption">
        <a href="http://www.gettyimages.com/detail/93466101" target="_blank">
          Embed from Getty Images
        </a>
      </div>
    </div>
  </div>
  <div class="section">
    <div class="search-link">
      <h1>
        <a routerLink="/search">Request a prediction with our model</a>
      </h1>
    </div>
  </div>
</div>
